<!DOCTYPE html>
<html lang="en">
<head>
</head>
<link rel="stylesheet" href="login_signup_style.css">
<link rel="shortcut icon" type="image/png" href="images/logo/cloudtv.ico"/>
<title>Cloud TV</title>
<body>
    <!-- <img id="logo" src="images/logo/cloud_tv_white_logo.png" alt=""> -->
    <div id="navbar">
        <a href="index.html"><img src="images/logo/ct_logo.jpg" alt="logo"></a>    
        <div class="prof_search">
          <input type="text" disabled placeholder="ðŸ”Ž Search">
          <button><img src="images/user.png" alt="user"> Sign In</button>
        </div>      
        </div>
    <form action="">
        <h2>Sign Up</h2>
        <label for="">Full name</label>
        <input type="text" name="" id="name" placeholder="Enter your full name">
        <label for="">Email</label>
        <input type="email" name="" id="email" placeholder="Enter email">
        <label for="">Phone</label>
        <input type="number" pattern="[0-9]{10}" name="" id="phone" placeholder="Enter phone">
        <label for="">Password</label>
        <input type="password" name="" id="pass" placeholder="Enter password">
        <h5>By signing up, I accept the Cloud TV <a href="">Terms of Service</a> and acknowledge the <a href="">Privacy Policy.</a></h5>
        <input type="submit" value="SIGNUP">
        <h3>Already have an account? <a href="login.html">Sign In</a></h3>
    </form>
    
    <div id="footer">
        <p>Copyright Â© 2022 Cloud TV Inc. All Rights Reserved.</p>
        <div class="footer_a">
          <a href="#">Internet Service Terms</a>
          <a href="#">Cloud TV & Privacy</a>
          <a href="#">Cookie Warning</a>
          <a href="#">Support</a>
        </div>
      </div>
    </body>
</html>
<script>
    let userData= JSON.parse(localStorage.getItem("users")) || [];
    let flag=true;
    form=document.querySelector("form");
    form.addEventListener("submit", function(){
        event.preventDefault();
        
        userData.forEach(element => {
            if(form.email.value== element.email){
                alert("User already exist, Kindly login");
                flag=false;
            }
        });
        first_name=form.name.value.split(" ");
        first_name=first_name[0];

        let obj={
            first_name:first_name,
            name:form.name.value,
            email:form.email.value,
            pass:form.pass.value,
            phone:form.phone.value,
            is_subscribed:"Not Subscribed",
            time:"Not Subscribed",
            today:"Not Subscribed",
            subscription_period:"Not Subscribed"
        }
        if(obj.name=="" || obj.email=="" || obj.pass=="" || obj.phone==""){
            alert("Please fill all the details");
        }else if(flag){
            userData.push(obj);
            localStorage.setItem("users", JSON.stringify(userData));
            alert("Sign Up sucessful, kindly login");
            window.location.href = "/login.html";
        }
    })  
</script>